create table campaigns (created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, status_id bigint not null, universe_id bigint, updated_at timestamp(6) not null, updated_by bigint, user_id bigint not null, description TEXT, title varchar(255) not null, primary key (id));
create table character_classes (id bigint generated by default as identity, universe_id bigint not null, description TEXT, name varchar(255) not null, primary key (id));
create table files (id bigint generated by default as identity, player_id bigint not null, file_type varchar(255), file_url varchar(255), filename varchar(255), primary key (id));
create table invitation (created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, status_id bigint, updated_at timestamp(6) not null, updated_by bigint, name varchar(255), primary key (id));
create table item_location (item_id bigint not null, location_id bigint not null, primary key (item_id, location_id));
create table items (id bigint generated by default as identity, description TEXT, name varchar(255), primary key (id));
create table locations (id bigint generated by default as identity, description TEXT, name varchar(255) not null, primary key (id));
create table note_shared_with_players (note_id bigint not null, player_id bigint not null, primary key (note_id, player_id));
create table notes (author_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, content TEXT not null, title varchar(255) not null, primary key (id));
create table npcs (id bigint generated by default as identity, location_id bigint, description TEXT, name varchar(255), primary key (id));
create table player_shared_with_players (player_id bigint not null, shared_with_player_id bigint not null, primary key (player_id, shared_with_player_id));
create table players (campaign_id bigint not null, class_id bigint, created_at timestamp(6) not null, created_by bigint not null, death_date timestamp(6), id bigint generated by default as identity, race_id bigint, updated_at timestamp(6) not null, updated_by bigint, user_id bigint not null, name varchar(255), primary key (id));
create table races (id bigint generated by default as identity, universe_id bigint not null, description TEXT, name varchar(255) not null, primary key (id));
create table refresh_token (date_creation timestamp(6) with time zone not null, expiry timestamp(6) with time zone not null, id bigint generated by default as identity, user_id bigint not null, token varchar(255) not null unique, primary key (id));
create table scenario_npc (npc_id bigint not null, scenario_id bigint not null, primary key (npc_id, scenario_id));
create table scenarios (campaign_id bigint not null, id bigint generated by default as identity, description TEXT, title varchar(255) not null, primary key (id));
create table sessions (date date, campaign_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, summary TEXT, primary key (id));
create table status_invitation (id bigint not null, name varchar(255), primary key (id));
create table statuses (id bigint generated by default as identity, name varchar(255) not null unique, primary key (id));
create table stories (is_visible_to_players boolean not null, campaign_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, content TEXT not null, title varchar(255) not null, primary key (id));
create table universes (id bigint generated by default as identity, description TEXT, name varchar(255) not null, rules TEXT, primary key (id));
create table users (id bigint generated by default as identity, email varchar(255) not null unique, name varchar(255) not null, password varchar(255) not null, primary key (id));
alter table if exists campaigns add constraint FKyfby4s4hyhrlmj6j3c63xt6 foreign key (created_by) references users;
alter table if exists campaigns add constraint FKop8gyuxe2113fd7hq6833s89t foreign key (updated_by) references users;
alter table if exists campaigns add constraint FKtqocf4ga6babas0wk2snlpj76 foreign key (status_id) references statuses;
alter table if exists campaigns add constraint FKf6wkp0dfmnmo4ki7yw1nhf7cu foreign key (universe_id) references universes;
alter table if exists campaigns add constraint FK9palj5bmfdaatu6s2d03oh7qe foreign key (user_id) references users;
alter table if exists character_classes add constraint FKq52uxxdjskqtrbm5ap8nnvci4 foreign key (universe_id) references universes;
alter table if exists files add constraint FK38e6eh8vimsr79jwlhabe1v21 foreign key (player_id) references players;
alter table if exists invitation add constraint FKf7v4v901bpg142y5tlmjip1t1 foreign key (created_by) references users;
alter table if exists invitation add constraint FK3314xpa9m0asexx2ofhexuey2 foreign key (updated_by) references users;
alter table if exists invitation add constraint FK335ndf181clkb4y38t0t7qbk1 foreign key (status_id) references status_invitation;
alter table if exists item_location add constraint FK16d78y99a521og3remdx23x8j foreign key (location_id) references locations;
alter table if exists item_location add constraint FKcgmxjpmepwqh1sm8ax42ea5ek foreign key (item_id) references items;
alter table if exists note_shared_with_players add constraint FKaf1n5ic7x2xkh4noqk7wyhwc6 foreign key (player_id) references players;
alter table if exists note_shared_with_players add constraint FK818pa68v0srqn4j9pwmkuhdxu foreign key (note_id) references notes;
alter table if exists notes add constraint FK4tleqkyuahenxmis780jg1efr foreign key (created_by) references users;
alter table if exists notes add constraint FK50mo2qafk750dh2npi3mjpsh7 foreign key (updated_by) references users;
alter table if exists notes add constraint FK697hjv40kqr8dtawmyhgws82c foreign key (author_id) references players;
alter table if exists npcs add constraint FK1x6xewa2t22qubmudx5f7gpja foreign key (location_id) references locations;
alter table if exists player_shared_with_players add constraint FKpyg2okpxl9b734wuy338mmot5 foreign key (shared_with_player_id) references players;
alter table if exists player_shared_with_players add constraint FK7d4ptv7ufgl8c1jkx114pbn89 foreign key (player_id) references players;
alter table if exists players add constraint FK4yqesma7v3i68eq7mwmrs8e59 foreign key (created_by) references users;
alter table if exists players add constraint FK7rb8oyiuhw99vj7con9fqtsac foreign key (updated_by) references users;
alter table if exists players add constraint FKgb8wrbgx4sda2cerjqto9gkrl foreign key (campaign_id) references campaigns;
alter table if exists players add constraint FKhr9yfh6whcmolg9vclnn5vddl foreign key (class_id) references character_classes;
alter table if exists players add constraint FKqinih0fh3c42gsamvg1cgh8un foreign key (race_id) references races;
alter table if exists players add constraint FK3rfv9832bif6rea5edetib8it foreign key (user_id) references users;
alter table if exists races add constraint FKprj0sbd6102n4owi3dwn325d4 foreign key (universe_id) references universes;
alter table if exists refresh_token add constraint FKjtx87i0jvq2svedphegvdwcuy foreign key (user_id) references users;
alter table if exists scenario_npc add constraint FKt1trjohn5618x223b8ahaf1dj foreign key (scenario_id) references scenarios;
alter table if exists scenario_npc add constraint FKiifi3tjs6ffwacafyn7oenpau foreign key (npc_id) references npcs;
alter table if exists scenarios add constraint FKble3q3fc658g40ys8abbs5chf foreign key (campaign_id) references campaigns;
alter table if exists sessions add constraint FK3icelr1qks7kxjhdsfsp9cs03 foreign key (created_by) references users;
alter table if exists sessions add constraint FKeebbk0xswcu986rhu4q3r8b9e foreign key (updated_by) references users;
alter table if exists sessions add constraint FKmdn9x1299h73m5k8s5v86g4yc foreign key (campaign_id) references campaigns;
alter table if exists stories add constraint FK20pxwkgaj2oryq1ygak84655k foreign key (created_by) references users;
alter table if exists stories add constraint FK34wtlbj688o2qw9drip7e2tm2 foreign key (updated_by) references users;
alter table if exists stories add constraint FK495cxtmfu2eidu4mjmarj53f0 foreign key (campaign_id) references campaigns;
create table campaigns (created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, status_id bigint not null, universe_id bigint, updated_at timestamp(6) not null, updated_by bigint, user_id bigint not null, description TEXT, title varchar(255) not null, primary key (id));
create table character_classes (id bigint generated by default as identity, universe_id bigint not null, description TEXT, name varchar(255) not null, primary key (id));
create table files (id bigint generated by default as identity, player_id bigint not null, file_type varchar(255), file_url varchar(255), filename varchar(255), primary key (id));
create table invitation (created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, status_id bigint, updated_at timestamp(6) not null, updated_by bigint, name varchar(255), primary key (id));
create table item_location (item_id bigint not null, location_id bigint not null, primary key (item_id, location_id));
create table items (id bigint generated by default as identity, description TEXT, name varchar(255), primary key (id));
create table locations (id bigint generated by default as identity, description TEXT, name varchar(255) not null, primary key (id));
create table note_shared_with_players (note_id bigint not null, player_id bigint not null, primary key (note_id, player_id));
create table notes (author_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, content TEXT not null, title varchar(255) not null, primary key (id));
create table npcs (id bigint generated by default as identity, location_id bigint, description TEXT, name varchar(255), primary key (id));
create table player_shared_with_players (player_id bigint not null, shared_with_player_id bigint not null, primary key (player_id, shared_with_player_id));
create table players (campaign_id bigint not null, class_id bigint, created_at timestamp(6) not null, created_by bigint not null, death_date timestamp(6), id bigint generated by default as identity, race_id bigint, updated_at timestamp(6) not null, updated_by bigint, user_id bigint not null, name varchar(255), primary key (id));
create table races (id bigint generated by default as identity, universe_id bigint not null, description TEXT, name varchar(255) not null, primary key (id));
create table refresh_token (date_creation timestamp(6) with time zone not null, expiry timestamp(6) with time zone not null, id bigint generated by default as identity, user_id bigint not null, token varchar(255) not null unique, primary key (id));
create table scenario_npc (npc_id bigint not null, scenario_id bigint not null, primary key (npc_id, scenario_id));
create table scenarios (campaign_id bigint not null, id bigint generated by default as identity, description TEXT, title varchar(255) not null, primary key (id));
create table sessions (date date, campaign_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, summary TEXT, primary key (id));
create table status_invitation (id bigint not null, name varchar(255), primary key (id));
create table statuses (id bigint generated by default as identity, name varchar(255) not null unique, primary key (id));
create table stories (is_visible_to_players boolean not null, campaign_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, content TEXT not null, title varchar(255) not null, primary key (id));
create table universes (id bigint generated by default as identity, description TEXT, name varchar(255) not null, rules TEXT, primary key (id));
create table users (id bigint generated by default as identity, email varchar(255) not null unique, name varchar(255) not null, password varchar(255) not null, primary key (id));
alter table if exists campaigns add constraint FKyfby4s4hyhrlmj6j3c63xt6 foreign key (created_by) references users;
alter table if exists campaigns add constraint FKop8gyuxe2113fd7hq6833s89t foreign key (updated_by) references users;
alter table if exists campaigns add constraint FKtqocf4ga6babas0wk2snlpj76 foreign key (status_id) references statuses;
alter table if exists campaigns add constraint FKf6wkp0dfmnmo4ki7yw1nhf7cu foreign key (universe_id) references universes;
alter table if exists campaigns add constraint FK9palj5bmfdaatu6s2d03oh7qe foreign key (user_id) references users;
alter table if exists character_classes add constraint FKq52uxxdjskqtrbm5ap8nnvci4 foreign key (universe_id) references universes;
alter table if exists files add constraint FK38e6eh8vimsr79jwlhabe1v21 foreign key (player_id) references players;
alter table if exists invitation add constraint FKf7v4v901bpg142y5tlmjip1t1 foreign key (created_by) references users;
alter table if exists invitation add constraint FK3314xpa9m0asexx2ofhexuey2 foreign key (updated_by) references users;
alter table if exists invitation add constraint FK335ndf181clkb4y38t0t7qbk1 foreign key (status_id) references status_invitation;
alter table if exists item_location add constraint FK16d78y99a521og3remdx23x8j foreign key (location_id) references locations;
alter table if exists item_location add constraint FKcgmxjpmepwqh1sm8ax42ea5ek foreign key (item_id) references items;
alter table if exists note_shared_with_players add constraint FKaf1n5ic7x2xkh4noqk7wyhwc6 foreign key (player_id) references players;
alter table if exists note_shared_with_players add constraint FK818pa68v0srqn4j9pwmkuhdxu foreign key (note_id) references notes;
alter table if exists notes add constraint FK4tleqkyuahenxmis780jg1efr foreign key (created_by) references users;
alter table if exists notes add constraint FK50mo2qafk750dh2npi3mjpsh7 foreign key (updated_by) references users;
alter table if exists notes add constraint FK697hjv40kqr8dtawmyhgws82c foreign key (author_id) references players;
alter table if exists npcs add constraint FK1x6xewa2t22qubmudx5f7gpja foreign key (location_id) references locations;
alter table if exists player_shared_with_players add constraint FKpyg2okpxl9b734wuy338mmot5 foreign key (shared_with_player_id) references players;
alter table if exists player_shared_with_players add constraint FK7d4ptv7ufgl8c1jkx114pbn89 foreign key (player_id) references players;
alter table if exists players add constraint FK4yqesma7v3i68eq7mwmrs8e59 foreign key (created_by) references users;
alter table if exists players add constraint FK7rb8oyiuhw99vj7con9fqtsac foreign key (updated_by) references users;
alter table if exists players add constraint FKgb8wrbgx4sda2cerjqto9gkrl foreign key (campaign_id) references campaigns;
alter table if exists players add constraint FKhr9yfh6whcmolg9vclnn5vddl foreign key (class_id) references character_classes;
alter table if exists players add constraint FKqinih0fh3c42gsamvg1cgh8un foreign key (race_id) references races;
alter table if exists players add constraint FK3rfv9832bif6rea5edetib8it foreign key (user_id) references users;
alter table if exists races add constraint FKprj0sbd6102n4owi3dwn325d4 foreign key (universe_id) references universes;
alter table if exists refresh_token add constraint FKjtx87i0jvq2svedphegvdwcuy foreign key (user_id) references users;
alter table if exists scenario_npc add constraint FKt1trjohn5618x223b8ahaf1dj foreign key (scenario_id) references scenarios;
alter table if exists scenario_npc add constraint FKiifi3tjs6ffwacafyn7oenpau foreign key (npc_id) references npcs;
alter table if exists scenarios add constraint FKble3q3fc658g40ys8abbs5chf foreign key (campaign_id) references campaigns;
alter table if exists sessions add constraint FK3icelr1qks7kxjhdsfsp9cs03 foreign key (created_by) references users;
alter table if exists sessions add constraint FKeebbk0xswcu986rhu4q3r8b9e foreign key (updated_by) references users;
alter table if exists sessions add constraint FKmdn9x1299h73m5k8s5v86g4yc foreign key (campaign_id) references campaigns;
alter table if exists stories add constraint FK20pxwkgaj2oryq1ygak84655k foreign key (created_by) references users;
alter table if exists stories add constraint FK34wtlbj688o2qw9drip7e2tm2 foreign key (updated_by) references users;
alter table if exists stories add constraint FK495cxtmfu2eidu4mjmarj53f0 foreign key (campaign_id) references campaigns;
create table campaigns (created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, status_id bigint not null, universe_id bigint, updated_at timestamp(6) not null, updated_by bigint, user_id bigint not null, description TEXT, title varchar(255) not null, primary key (id));
create table character_classes (id bigint generated by default as identity, universe_id bigint not null, description TEXT, name varchar(255) not null, primary key (id));
create table files (id bigint generated by default as identity, player_id bigint not null, file_type varchar(255), file_url varchar(255), filename varchar(255), primary key (id));
create table invitation (created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, status_id bigint, updated_at timestamp(6) not null, updated_by bigint, name varchar(255), primary key (id));
create table item_location (item_id bigint not null, location_id bigint not null, primary key (item_id, location_id));
create table items (id bigint generated by default as identity, description TEXT, name varchar(255), primary key (id));
create table locations (id bigint generated by default as identity, description TEXT, name varchar(255) not null, primary key (id));
create table note_shared_with_players (note_id bigint not null, player_id bigint not null, primary key (note_id, player_id));
create table notes (author_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, content TEXT not null, title varchar(255) not null, primary key (id));
create table npcs (id bigint generated by default as identity, location_id bigint, description TEXT, name varchar(255), primary key (id));
create table player_shared_with_players (player_id bigint not null, shared_with_player_id bigint not null, primary key (player_id, shared_with_player_id));
create table players (campaign_id bigint not null, class_id bigint, created_at timestamp(6) not null, created_by bigint not null, death_date timestamp(6), id bigint generated by default as identity, race_id bigint, updated_at timestamp(6) not null, updated_by bigint, user_id bigint not null, name varchar(255), primary key (id));
create table races (id bigint generated by default as identity, universe_id bigint not null, description TEXT, name varchar(255) not null, primary key (id));
create table refresh_token (date_creation timestamp(6) with time zone not null, expiry timestamp(6) with time zone not null, id bigint generated by default as identity, user_id bigint not null, token varchar(255) not null unique, primary key (id));
create table scenario_npc (npc_id bigint not null, scenario_id bigint not null, primary key (npc_id, scenario_id));
create table scenarios (campaign_id bigint not null, id bigint generated by default as identity, description TEXT, title varchar(255) not null, primary key (id));
create table sessions (date date, campaign_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, summary TEXT, primary key (id));
create table status_invitation (id bigint not null, name varchar(255), primary key (id));
create table statuses (id bigint generated by default as identity, name varchar(255) not null unique, primary key (id));
create table stories (is_visible_to_players boolean not null, campaign_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, content TEXT not null, title varchar(255) not null, primary key (id));
create table universes (id bigint generated by default as identity, description TEXT, name varchar(255) not null, rules TEXT, primary key (id));
create table users (id bigint generated by default as identity, email varchar(255) not null unique, name varchar(255) not null, password varchar(255) not null, primary key (id));
alter table if exists campaigns add constraint FKyfby4s4hyhrlmj6j3c63xt6 foreign key (created_by) references users;
alter table if exists campaigns add constraint FKop8gyuxe2113fd7hq6833s89t foreign key (updated_by) references users;
alter table if exists campaigns add constraint FKtqocf4ga6babas0wk2snlpj76 foreign key (status_id) references statuses;
alter table if exists campaigns add constraint FKf6wkp0dfmnmo4ki7yw1nhf7cu foreign key (universe_id) references universes;
alter table if exists campaigns add constraint FK9palj5bmfdaatu6s2d03oh7qe foreign key (user_id) references users;
alter table if exists character_classes add constraint FKq52uxxdjskqtrbm5ap8nnvci4 foreign key (universe_id) references universes;
alter table if exists files add constraint FK38e6eh8vimsr79jwlhabe1v21 foreign key (player_id) references players;
alter table if exists invitation add constraint FKf7v4v901bpg142y5tlmjip1t1 foreign key (created_by) references users;
alter table if exists invitation add constraint FK3314xpa9m0asexx2ofhexuey2 foreign key (updated_by) references users;
alter table if exists invitation add constraint FK335ndf181clkb4y38t0t7qbk1 foreign key (status_id) references status_invitation;
alter table if exists item_location add constraint FK16d78y99a521og3remdx23x8j foreign key (location_id) references locations;
alter table if exists item_location add constraint FKcgmxjpmepwqh1sm8ax42ea5ek foreign key (item_id) references items;
alter table if exists note_shared_with_players add constraint FKaf1n5ic7x2xkh4noqk7wyhwc6 foreign key (player_id) references players;
alter table if exists note_shared_with_players add constraint FK818pa68v0srqn4j9pwmkuhdxu foreign key (note_id) references notes;
alter table if exists notes add constraint FK4tleqkyuahenxmis780jg1efr foreign key (created_by) references users;
alter table if exists notes add constraint FK50mo2qafk750dh2npi3mjpsh7 foreign key (updated_by) references users;
alter table if exists notes add constraint FK697hjv40kqr8dtawmyhgws82c foreign key (author_id) references players;
alter table if exists npcs add constraint FK1x6xewa2t22qubmudx5f7gpja foreign key (location_id) references locations;
alter table if exists player_shared_with_players add constraint FKpyg2okpxl9b734wuy338mmot5 foreign key (shared_with_player_id) references players;
alter table if exists player_shared_with_players add constraint FK7d4ptv7ufgl8c1jkx114pbn89 foreign key (player_id) references players;
alter table if exists players add constraint FK4yqesma7v3i68eq7mwmrs8e59 foreign key (created_by) references users;
alter table if exists players add constraint FK7rb8oyiuhw99vj7con9fqtsac foreign key (updated_by) references users;
alter table if exists players add constraint FKgb8wrbgx4sda2cerjqto9gkrl foreign key (campaign_id) references campaigns;
alter table if exists players add constraint FKhr9yfh6whcmolg9vclnn5vddl foreign key (class_id) references character_classes;
alter table if exists players add constraint FKqinih0fh3c42gsamvg1cgh8un foreign key (race_id) references races;
alter table if exists players add constraint FK3rfv9832bif6rea5edetib8it foreign key (user_id) references users;
alter table if exists races add constraint FKprj0sbd6102n4owi3dwn325d4 foreign key (universe_id) references universes;
alter table if exists refresh_token add constraint FKjtx87i0jvq2svedphegvdwcuy foreign key (user_id) references users;
alter table if exists scenario_npc add constraint FKt1trjohn5618x223b8ahaf1dj foreign key (scenario_id) references scenarios;
alter table if exists scenario_npc add constraint FKiifi3tjs6ffwacafyn7oenpau foreign key (npc_id) references npcs;
alter table if exists scenarios add constraint FKble3q3fc658g40ys8abbs5chf foreign key (campaign_id) references campaigns;
alter table if exists sessions add constraint FK3icelr1qks7kxjhdsfsp9cs03 foreign key (created_by) references users;
alter table if exists sessions add constraint FKeebbk0xswcu986rhu4q3r8b9e foreign key (updated_by) references users;
alter table if exists sessions add constraint FKmdn9x1299h73m5k8s5v86g4yc foreign key (campaign_id) references campaigns;
alter table if exists stories add constraint FK20pxwkgaj2oryq1ygak84655k foreign key (created_by) references users;
alter table if exists stories add constraint FK34wtlbj688o2qw9drip7e2tm2 foreign key (updated_by) references users;
alter table if exists stories add constraint FK495cxtmfu2eidu4mjmarj53f0 foreign key (campaign_id) references campaigns;
create table campaigns (created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, status_id bigint not null, universe_id bigint, updated_at timestamp(6) not null, updated_by bigint, user_id bigint not null, description TEXT, title varchar(255) not null, primary key (id));
create table character_classes (id bigint generated by default as identity, universe_id bigint not null, description TEXT, name varchar(255) not null, primary key (id));
create table files (id bigint generated by default as identity, player_id bigint not null, file_type varchar(255), file_url varchar(255), filename varchar(255), primary key (id));
create table invitation (created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, status_id bigint, updated_at timestamp(6) not null, updated_by bigint, name varchar(255), primary key (id));
create table item_location (item_id bigint not null, location_id bigint not null, primary key (item_id, location_id));
create table items (id bigint generated by default as identity, description TEXT, name varchar(255), primary key (id));
create table locations (id bigint generated by default as identity, description TEXT, name varchar(255) not null, primary key (id));
create table note_shared_with_players (note_id bigint not null, player_id bigint not null, primary key (note_id, player_id));
create table notes (author_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, content TEXT not null, title varchar(255) not null, primary key (id));
create table npcs (id bigint generated by default as identity, location_id bigint, description TEXT, name varchar(255), primary key (id));
create table player_shared_with_players (player_id bigint not null, shared_with_player_id bigint not null, primary key (player_id, shared_with_player_id));
create table players (campaign_id bigint not null, class_id bigint, created_at timestamp(6) not null, created_by bigint not null, death_date timestamp(6), id bigint generated by default as identity, race_id bigint, updated_at timestamp(6) not null, updated_by bigint, user_id bigint not null, name varchar(255), primary key (id));
create table races (id bigint generated by default as identity, universe_id bigint not null, description TEXT, name varchar(255) not null, primary key (id));
create table refresh_token (date_creation timestamp(6) with time zone not null, expiry timestamp(6) with time zone not null, id bigint generated by default as identity, user_id bigint not null, token varchar(255) not null unique, primary key (id));
create table scenario_npc (npc_id bigint not null, scenario_id bigint not null, primary key (npc_id, scenario_id));
create table scenarios (campaign_id bigint not null, id bigint generated by default as identity, description TEXT, title varchar(255) not null, primary key (id));
create table sessions (date date, campaign_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, summary TEXT, primary key (id));
create table status_invitation (id bigint not null, name varchar(255), primary key (id));
create table statuses (id bigint generated by default as identity, name varchar(255) not null unique, primary key (id));
create table stories (is_visible_to_players boolean not null, campaign_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, content TEXT not null, title varchar(255) not null, primary key (id));
create table universes (id bigint generated by default as identity, description TEXT, name varchar(255) not null, rules TEXT, primary key (id));
create table users (id bigint generated by default as identity, email varchar(255) not null unique, name varchar(255) not null, password varchar(255) not null, primary key (id));
alter table if exists campaigns add constraint FKyfby4s4hyhrlmj6j3c63xt6 foreign key (created_by) references users;
alter table if exists campaigns add constraint FKop8gyuxe2113fd7hq6833s89t foreign key (updated_by) references users;
alter table if exists campaigns add constraint FKtqocf4ga6babas0wk2snlpj76 foreign key (status_id) references statuses;
alter table if exists campaigns add constraint FKf6wkp0dfmnmo4ki7yw1nhf7cu foreign key (universe_id) references universes;
alter table if exists campaigns add constraint FK9palj5bmfdaatu6s2d03oh7qe foreign key (user_id) references users;
alter table if exists character_classes add constraint FKq52uxxdjskqtrbm5ap8nnvci4 foreign key (universe_id) references universes;
alter table if exists files add constraint FK38e6eh8vimsr79jwlhabe1v21 foreign key (player_id) references players;
alter table if exists invitation add constraint FKf7v4v901bpg142y5tlmjip1t1 foreign key (created_by) references users;
alter table if exists invitation add constraint FK3314xpa9m0asexx2ofhexuey2 foreign key (updated_by) references users;
alter table if exists invitation add constraint FK335ndf181clkb4y38t0t7qbk1 foreign key (status_id) references status_invitation;
alter table if exists item_location add constraint FK16d78y99a521og3remdx23x8j foreign key (location_id) references locations;
alter table if exists item_location add constraint FKcgmxjpmepwqh1sm8ax42ea5ek foreign key (item_id) references items;
alter table if exists note_shared_with_players add constraint FKaf1n5ic7x2xkh4noqk7wyhwc6 foreign key (player_id) references players;
alter table if exists note_shared_with_players add constraint FK818pa68v0srqn4j9pwmkuhdxu foreign key (note_id) references notes;
alter table if exists notes add constraint FK4tleqkyuahenxmis780jg1efr foreign key (created_by) references users;
alter table if exists notes add constraint FK50mo2qafk750dh2npi3mjpsh7 foreign key (updated_by) references users;
alter table if exists notes add constraint FK697hjv40kqr8dtawmyhgws82c foreign key (author_id) references players;
alter table if exists npcs add constraint FK1x6xewa2t22qubmudx5f7gpja foreign key (location_id) references locations;
alter table if exists player_shared_with_players add constraint FKpyg2okpxl9b734wuy338mmot5 foreign key (shared_with_player_id) references players;
alter table if exists player_shared_with_players add constraint FK7d4ptv7ufgl8c1jkx114pbn89 foreign key (player_id) references players;
alter table if exists players add constraint FK4yqesma7v3i68eq7mwmrs8e59 foreign key (created_by) references users;
alter table if exists players add constraint FK7rb8oyiuhw99vj7con9fqtsac foreign key (updated_by) references users;
alter table if exists players add constraint FKgb8wrbgx4sda2cerjqto9gkrl foreign key (campaign_id) references campaigns;
alter table if exists players add constraint FKhr9yfh6whcmolg9vclnn5vddl foreign key (class_id) references character_classes;
alter table if exists players add constraint FKqinih0fh3c42gsamvg1cgh8un foreign key (race_id) references races;
alter table if exists players add constraint FK3rfv9832bif6rea5edetib8it foreign key (user_id) references users;
alter table if exists races add constraint FKprj0sbd6102n4owi3dwn325d4 foreign key (universe_id) references universes;
alter table if exists refresh_token add constraint FKjtx87i0jvq2svedphegvdwcuy foreign key (user_id) references users;
alter table if exists scenario_npc add constraint FKt1trjohn5618x223b8ahaf1dj foreign key (scenario_id) references scenarios;
alter table if exists scenario_npc add constraint FKiifi3tjs6ffwacafyn7oenpau foreign key (npc_id) references npcs;
alter table if exists scenarios add constraint FKble3q3fc658g40ys8abbs5chf foreign key (campaign_id) references campaigns;
alter table if exists sessions add constraint FK3icelr1qks7kxjhdsfsp9cs03 foreign key (created_by) references users;
alter table if exists sessions add constraint FKeebbk0xswcu986rhu4q3r8b9e foreign key (updated_by) references users;
alter table if exists sessions add constraint FKmdn9x1299h73m5k8s5v86g4yc foreign key (campaign_id) references campaigns;
alter table if exists stories add constraint FK20pxwkgaj2oryq1ygak84655k foreign key (created_by) references users;
alter table if exists stories add constraint FK34wtlbj688o2qw9drip7e2tm2 foreign key (updated_by) references users;
alter table if exists stories add constraint FK495cxtmfu2eidu4mjmarj53f0 foreign key (campaign_id) references campaigns;
create table campaigns (created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, status_id bigint not null, universe_id bigint, updated_at timestamp(6) not null, updated_by bigint, user_id bigint not null, description TEXT, title varchar(255) not null, primary key (id));
create table character_classes (id bigint generated by default as identity, universe_id bigint not null, description TEXT, name varchar(255) not null, primary key (id));
create table files (id bigint generated by default as identity, player_id bigint not null, file_type varchar(255), file_url varchar(255), filename varchar(255), primary key (id));
create table invitation (created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, status_id bigint, updated_at timestamp(6) not null, updated_by bigint, name varchar(255), primary key (id));
create table item_location (item_id bigint not null, location_id bigint not null, primary key (item_id, location_id));
create table items (id bigint generated by default as identity, description TEXT, name varchar(255), primary key (id));
create table locations (id bigint generated by default as identity, description TEXT, name varchar(255) not null, primary key (id));
create table note_shared_with_players (note_id bigint not null, player_id bigint not null, primary key (note_id, player_id));
create table notes (author_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, content TEXT not null, title varchar(255) not null, primary key (id));
create table npcs (id bigint generated by default as identity, location_id bigint, description TEXT, name varchar(255), primary key (id));
create table player_shared_with_players (player_id bigint not null, shared_with_player_id bigint not null, primary key (player_id, shared_with_player_id));
create table players (campaign_id bigint not null, class_id bigint, created_at timestamp(6) not null, created_by bigint not null, death_date timestamp(6), id bigint generated by default as identity, race_id bigint, updated_at timestamp(6) not null, updated_by bigint, user_id bigint not null, name varchar(255), primary key (id));
create table races (id bigint generated by default as identity, universe_id bigint not null, description TEXT, name varchar(255) not null, primary key (id));
create table refresh_token (date_creation timestamp(6) with time zone not null, expiry timestamp(6) with time zone not null, id bigint generated by default as identity, user_id bigint not null, token varchar(255) not null unique, primary key (id));
create table scenario_npc (npc_id bigint not null, scenario_id bigint not null, primary key (npc_id, scenario_id));
create table scenarios (campaign_id bigint not null, id bigint generated by default as identity, description TEXT, title varchar(255) not null, primary key (id));
create table sessions (date date, campaign_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, summary TEXT, primary key (id));
create table status_invitation (id bigint not null, name varchar(255), primary key (id));
create table statuses (id bigint generated by default as identity, name varchar(255) not null unique, primary key (id));
create table stories (is_visible_to_players boolean not null, campaign_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, content TEXT not null, title varchar(255) not null, primary key (id));
create table universes (id bigint generated by default as identity, description TEXT, name varchar(255) not null, rules TEXT, primary key (id));
create table users (id bigint generated by default as identity, email varchar(255) not null unique, name varchar(255) not null, password varchar(255) not null, primary key (id));
alter table if exists campaigns add constraint FKyfby4s4hyhrlmj6j3c63xt6 foreign key (created_by) references users;
alter table if exists campaigns add constraint FKop8gyuxe2113fd7hq6833s89t foreign key (updated_by) references users;
alter table if exists campaigns add constraint FKtqocf4ga6babas0wk2snlpj76 foreign key (status_id) references statuses;
alter table if exists campaigns add constraint FKf6wkp0dfmnmo4ki7yw1nhf7cu foreign key (universe_id) references universes;
alter table if exists campaigns add constraint FK9palj5bmfdaatu6s2d03oh7qe foreign key (user_id) references users;
alter table if exists character_classes add constraint FKq52uxxdjskqtrbm5ap8nnvci4 foreign key (universe_id) references universes;
alter table if exists files add constraint FK38e6eh8vimsr79jwlhabe1v21 foreign key (player_id) references players;
alter table if exists invitation add constraint FKf7v4v901bpg142y5tlmjip1t1 foreign key (created_by) references users;
alter table if exists invitation add constraint FK3314xpa9m0asexx2ofhexuey2 foreign key (updated_by) references users;
alter table if exists invitation add constraint FK335ndf181clkb4y38t0t7qbk1 foreign key (status_id) references status_invitation;
alter table if exists item_location add constraint FK16d78y99a521og3remdx23x8j foreign key (location_id) references locations;
alter table if exists item_location add constraint FKcgmxjpmepwqh1sm8ax42ea5ek foreign key (item_id) references items;
alter table if exists note_shared_with_players add constraint FKaf1n5ic7x2xkh4noqk7wyhwc6 foreign key (player_id) references players;
alter table if exists note_shared_with_players add constraint FK818pa68v0srqn4j9pwmkuhdxu foreign key (note_id) references notes;
alter table if exists notes add constraint FK4tleqkyuahenxmis780jg1efr foreign key (created_by) references users;
alter table if exists notes add constraint FK50mo2qafk750dh2npi3mjpsh7 foreign key (updated_by) references users;
alter table if exists notes add constraint FK697hjv40kqr8dtawmyhgws82c foreign key (author_id) references players;
alter table if exists npcs add constraint FK1x6xewa2t22qubmudx5f7gpja foreign key (location_id) references locations;
alter table if exists player_shared_with_players add constraint FKpyg2okpxl9b734wuy338mmot5 foreign key (shared_with_player_id) references players;
alter table if exists player_shared_with_players add constraint FK7d4ptv7ufgl8c1jkx114pbn89 foreign key (player_id) references players;
alter table if exists players add constraint FK4yqesma7v3i68eq7mwmrs8e59 foreign key (created_by) references users;
alter table if exists players add constraint FK7rb8oyiuhw99vj7con9fqtsac foreign key (updated_by) references users;
alter table if exists players add constraint FKgb8wrbgx4sda2cerjqto9gkrl foreign key (campaign_id) references campaigns;
alter table if exists players add constraint FKhr9yfh6whcmolg9vclnn5vddl foreign key (class_id) references character_classes;
alter table if exists players add constraint FKqinih0fh3c42gsamvg1cgh8un foreign key (race_id) references races;
alter table if exists players add constraint FK3rfv9832bif6rea5edetib8it foreign key (user_id) references users;
alter table if exists races add constraint FKprj0sbd6102n4owi3dwn325d4 foreign key (universe_id) references universes;
alter table if exists refresh_token add constraint FKjtx87i0jvq2svedphegvdwcuy foreign key (user_id) references users;
alter table if exists scenario_npc add constraint FKt1trjohn5618x223b8ahaf1dj foreign key (scenario_id) references scenarios;
alter table if exists scenario_npc add constraint FKiifi3tjs6ffwacafyn7oenpau foreign key (npc_id) references npcs;
alter table if exists scenarios add constraint FKble3q3fc658g40ys8abbs5chf foreign key (campaign_id) references campaigns;
alter table if exists sessions add constraint FK3icelr1qks7kxjhdsfsp9cs03 foreign key (created_by) references users;
alter table if exists sessions add constraint FKeebbk0xswcu986rhu4q3r8b9e foreign key (updated_by) references users;
alter table if exists sessions add constraint FKmdn9x1299h73m5k8s5v86g4yc foreign key (campaign_id) references campaigns;
alter table if exists stories add constraint FK20pxwkgaj2oryq1ygak84655k foreign key (created_by) references users;
alter table if exists stories add constraint FK34wtlbj688o2qw9drip7e2tm2 foreign key (updated_by) references users;
alter table if exists stories add constraint FK495cxtmfu2eidu4mjmarj53f0 foreign key (campaign_id) references campaigns;
create table campaigns (created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, status_id bigint not null, universe_id bigint, updated_at timestamp(6) not null, updated_by bigint, user_id bigint not null, description TEXT, title varchar(255) not null, primary key (id));
create table character_classes (id bigint generated by default as identity, universe_id bigint not null, description TEXT, name varchar(255) not null, primary key (id));
create table files (id bigint generated by default as identity, player_id bigint not null, file_type varchar(255), file_url varchar(255), filename varchar(255), primary key (id));
create table invitation (created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, status_id bigint, updated_at timestamp(6) not null, updated_by bigint, name varchar(255), primary key (id));
create table item_location (item_id bigint not null, location_id bigint not null, primary key (item_id, location_id));
create table items (id bigint generated by default as identity, description TEXT, name varchar(255), primary key (id));
create table locations (id bigint generated by default as identity, description TEXT, name varchar(255) not null, primary key (id));
create table note_shared_with_players (note_id bigint not null, player_id bigint not null, primary key (note_id, player_id));
create table notes (author_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, content TEXT not null, title varchar(255) not null, primary key (id));
create table npcs (id bigint generated by default as identity, location_id bigint, description TEXT, name varchar(255), primary key (id));
create table player_shared_with_players (player_id bigint not null, shared_with_player_id bigint not null, primary key (player_id, shared_with_player_id));
create table players (campaign_id bigint not null, class_id bigint, created_at timestamp(6) not null, created_by bigint not null, death_date timestamp(6), id bigint generated by default as identity, race_id bigint, updated_at timestamp(6) not null, updated_by bigint, user_id bigint not null, name varchar(255), primary key (id));
create table races (id bigint generated by default as identity, universe_id bigint not null, description TEXT, name varchar(255) not null, primary key (id));
create table refresh_token (date_creation timestamp(6) with time zone not null, expiry timestamp(6) with time zone not null, id bigint generated by default as identity, user_id bigint not null, token varchar(255) not null unique, primary key (id));
create table scenario_npc (npc_id bigint not null, scenario_id bigint not null, primary key (npc_id, scenario_id));
create table scenarios (campaign_id bigint not null, id bigint generated by default as identity, description TEXT, title varchar(255) not null, primary key (id));
create table sessions (date date, campaign_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, summary TEXT, primary key (id));
create table status_invitation (id bigint not null, name varchar(255), primary key (id));
create table statuses (id bigint generated by default as identity, name varchar(255) not null unique, primary key (id));
create table stories (is_visible_to_players boolean not null, campaign_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, content TEXT not null, title varchar(255) not null, primary key (id));
create table universes (id bigint generated by default as identity, description TEXT, name varchar(255) not null, rules TEXT, primary key (id));
create table users (id bigint generated by default as identity, email varchar(255) not null unique, name varchar(255) not null, password varchar(255) not null, primary key (id));
alter table if exists campaigns add constraint FKyfby4s4hyhrlmj6j3c63xt6 foreign key (created_by) references users;
alter table if exists campaigns add constraint FKop8gyuxe2113fd7hq6833s89t foreign key (updated_by) references users;
alter table if exists campaigns add constraint FKtqocf4ga6babas0wk2snlpj76 foreign key (status_id) references statuses;
alter table if exists campaigns add constraint FKf6wkp0dfmnmo4ki7yw1nhf7cu foreign key (universe_id) references universes;
alter table if exists campaigns add constraint FK9palj5bmfdaatu6s2d03oh7qe foreign key (user_id) references users;
alter table if exists character_classes add constraint FKq52uxxdjskqtrbm5ap8nnvci4 foreign key (universe_id) references universes;
alter table if exists files add constraint FK38e6eh8vimsr79jwlhabe1v21 foreign key (player_id) references players;
alter table if exists invitation add constraint FKf7v4v901bpg142y5tlmjip1t1 foreign key (created_by) references users;
alter table if exists invitation add constraint FK3314xpa9m0asexx2ofhexuey2 foreign key (updated_by) references users;
alter table if exists invitation add constraint FK335ndf181clkb4y38t0t7qbk1 foreign key (status_id) references status_invitation;
alter table if exists item_location add constraint FK16d78y99a521og3remdx23x8j foreign key (location_id) references locations;
alter table if exists item_location add constraint FKcgmxjpmepwqh1sm8ax42ea5ek foreign key (item_id) references items;
alter table if exists note_shared_with_players add constraint FKaf1n5ic7x2xkh4noqk7wyhwc6 foreign key (player_id) references players;
alter table if exists note_shared_with_players add constraint FK818pa68v0srqn4j9pwmkuhdxu foreign key (note_id) references notes;
alter table if exists notes add constraint FK4tleqkyuahenxmis780jg1efr foreign key (created_by) references users;
alter table if exists notes add constraint FK50mo2qafk750dh2npi3mjpsh7 foreign key (updated_by) references users;
alter table if exists notes add constraint FK697hjv40kqr8dtawmyhgws82c foreign key (author_id) references players;
alter table if exists npcs add constraint FK1x6xewa2t22qubmudx5f7gpja foreign key (location_id) references locations;
alter table if exists player_shared_with_players add constraint FKpyg2okpxl9b734wuy338mmot5 foreign key (shared_with_player_id) references players;
alter table if exists player_shared_with_players add constraint FK7d4ptv7ufgl8c1jkx114pbn89 foreign key (player_id) references players;
alter table if exists players add constraint FK4yqesma7v3i68eq7mwmrs8e59 foreign key (created_by) references users;
alter table if exists players add constraint FK7rb8oyiuhw99vj7con9fqtsac foreign key (updated_by) references users;
alter table if exists players add constraint FKgb8wrbgx4sda2cerjqto9gkrl foreign key (campaign_id) references campaigns;
alter table if exists players add constraint FKhr9yfh6whcmolg9vclnn5vddl foreign key (class_id) references character_classes;
alter table if exists players add constraint FKqinih0fh3c42gsamvg1cgh8un foreign key (race_id) references races;
alter table if exists players add constraint FK3rfv9832bif6rea5edetib8it foreign key (user_id) references users;
alter table if exists races add constraint FKprj0sbd6102n4owi3dwn325d4 foreign key (universe_id) references universes;
alter table if exists refresh_token add constraint FKjtx87i0jvq2svedphegvdwcuy foreign key (user_id) references users;
alter table if exists scenario_npc add constraint FKt1trjohn5618x223b8ahaf1dj foreign key (scenario_id) references scenarios;
alter table if exists scenario_npc add constraint FKiifi3tjs6ffwacafyn7oenpau foreign key (npc_id) references npcs;
alter table if exists scenarios add constraint FKble3q3fc658g40ys8abbs5chf foreign key (campaign_id) references campaigns;
alter table if exists sessions add constraint FK3icelr1qks7kxjhdsfsp9cs03 foreign key (created_by) references users;
alter table if exists sessions add constraint FKeebbk0xswcu986rhu4q3r8b9e foreign key (updated_by) references users;
alter table if exists sessions add constraint FKmdn9x1299h73m5k8s5v86g4yc foreign key (campaign_id) references campaigns;
alter table if exists stories add constraint FK20pxwkgaj2oryq1ygak84655k foreign key (created_by) references users;
alter table if exists stories add constraint FK34wtlbj688o2qw9drip7e2tm2 foreign key (updated_by) references users;
alter table if exists stories add constraint FK495cxtmfu2eidu4mjmarj53f0 foreign key (campaign_id) references campaigns;
create table campaigns (created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, status_id bigint not null, universe_id bigint, updated_at timestamp(6) not null, updated_by bigint, user_id bigint not null, description TEXT, title varchar(255) not null, primary key (id));
create table character_classes (id bigint generated by default as identity, universe_id bigint not null, description TEXT, name varchar(255) not null, primary key (id));
create table files (id bigint generated by default as identity, player_id bigint not null, file_type varchar(255), file_url varchar(255), filename varchar(255), primary key (id));
create table invitation (created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, status_id bigint, updated_at timestamp(6) not null, updated_by bigint, name varchar(255), primary key (id));
create table item_location (item_id bigint not null, location_id bigint not null, primary key (item_id, location_id));
create table items (id bigint generated by default as identity, description TEXT, name varchar(255), primary key (id));
create table locations (id bigint generated by default as identity, description TEXT, name varchar(255) not null, primary key (id));
create table note_shared_with_players (note_id bigint not null, player_id bigint not null, primary key (note_id, player_id));
create table notes (author_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, content TEXT not null, title varchar(255) not null, primary key (id));
create table npcs (id bigint generated by default as identity, location_id bigint, description TEXT, name varchar(255), primary key (id));
create table player_shared_with_players (player_id bigint not null, shared_with_player_id bigint not null, primary key (player_id, shared_with_player_id));
create table players (campaign_id bigint not null, class_id bigint, created_at timestamp(6) not null, created_by bigint not null, death_date timestamp(6), id bigint generated by default as identity, race_id bigint, updated_at timestamp(6) not null, updated_by bigint, user_id bigint not null, name varchar(255), primary key (id));
create table races (id bigint generated by default as identity, universe_id bigint not null, description TEXT, name varchar(255) not null, primary key (id));
create table refresh_token (date_creation timestamp(6) with time zone not null, expiry timestamp(6) with time zone not null, id bigint generated by default as identity, user_id bigint not null, token varchar(255) not null unique, primary key (id));
create table scenario_npc (npc_id bigint not null, scenario_id bigint not null, primary key (npc_id, scenario_id));
create table scenarios (campaign_id bigint not null, id bigint generated by default as identity, description TEXT, title varchar(255) not null, primary key (id));
create table sessions (date date, campaign_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, summary TEXT, primary key (id));
create table status_invitation (id bigint not null, name varchar(255), primary key (id));
create table statuses (id bigint generated by default as identity, name varchar(255) not null unique, primary key (id));
create table stories (is_visible_to_players boolean not null, campaign_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, content TEXT not null, title varchar(255) not null, primary key (id));
create table universes (id bigint generated by default as identity, description TEXT, name varchar(255) not null, rules TEXT, primary key (id));
create table users (id bigint generated by default as identity, email varchar(255) not null unique, name varchar(255) not null, password varchar(255) not null, primary key (id));
alter table if exists campaigns add constraint FKyfby4s4hyhrlmj6j3c63xt6 foreign key (created_by) references users;
alter table if exists campaigns add constraint FKop8gyuxe2113fd7hq6833s89t foreign key (updated_by) references users;
alter table if exists campaigns add constraint FKtqocf4ga6babas0wk2snlpj76 foreign key (status_id) references statuses;
alter table if exists campaigns add constraint FKf6wkp0dfmnmo4ki7yw1nhf7cu foreign key (universe_id) references universes;
alter table if exists campaigns add constraint FK9palj5bmfdaatu6s2d03oh7qe foreign key (user_id) references users;
alter table if exists character_classes add constraint FKq52uxxdjskqtrbm5ap8nnvci4 foreign key (universe_id) references universes;
alter table if exists files add constraint FK38e6eh8vimsr79jwlhabe1v21 foreign key (player_id) references players;
alter table if exists invitation add constraint FKf7v4v901bpg142y5tlmjip1t1 foreign key (created_by) references users;
alter table if exists invitation add constraint FK3314xpa9m0asexx2ofhexuey2 foreign key (updated_by) references users;
alter table if exists invitation add constraint FK335ndf181clkb4y38t0t7qbk1 foreign key (status_id) references status_invitation;
alter table if exists item_location add constraint FK16d78y99a521og3remdx23x8j foreign key (location_id) references locations;
alter table if exists item_location add constraint FKcgmxjpmepwqh1sm8ax42ea5ek foreign key (item_id) references items;
alter table if exists note_shared_with_players add constraint FKaf1n5ic7x2xkh4noqk7wyhwc6 foreign key (player_id) references players;
alter table if exists note_shared_with_players add constraint FK818pa68v0srqn4j9pwmkuhdxu foreign key (note_id) references notes;
alter table if exists notes add constraint FK4tleqkyuahenxmis780jg1efr foreign key (created_by) references users;
alter table if exists notes add constraint FK50mo2qafk750dh2npi3mjpsh7 foreign key (updated_by) references users;
alter table if exists notes add constraint FK697hjv40kqr8dtawmyhgws82c foreign key (author_id) references players;
alter table if exists npcs add constraint FK1x6xewa2t22qubmudx5f7gpja foreign key (location_id) references locations;
alter table if exists player_shared_with_players add constraint FKpyg2okpxl9b734wuy338mmot5 foreign key (shared_with_player_id) references players;
alter table if exists player_shared_with_players add constraint FK7d4ptv7ufgl8c1jkx114pbn89 foreign key (player_id) references players;
alter table if exists players add constraint FK4yqesma7v3i68eq7mwmrs8e59 foreign key (created_by) references users;
alter table if exists players add constraint FK7rb8oyiuhw99vj7con9fqtsac foreign key (updated_by) references users;
alter table if exists players add constraint FKgb8wrbgx4sda2cerjqto9gkrl foreign key (campaign_id) references campaigns;
alter table if exists players add constraint FKhr9yfh6whcmolg9vclnn5vddl foreign key (class_id) references character_classes;
alter table if exists players add constraint FKqinih0fh3c42gsamvg1cgh8un foreign key (race_id) references races;
alter table if exists players add constraint FK3rfv9832bif6rea5edetib8it foreign key (user_id) references users;
alter table if exists races add constraint FKprj0sbd6102n4owi3dwn325d4 foreign key (universe_id) references universes;
alter table if exists refresh_token add constraint FKjtx87i0jvq2svedphegvdwcuy foreign key (user_id) references users;
alter table if exists scenario_npc add constraint FKt1trjohn5618x223b8ahaf1dj foreign key (scenario_id) references scenarios;
alter table if exists scenario_npc add constraint FKiifi3tjs6ffwacafyn7oenpau foreign key (npc_id) references npcs;
alter table if exists scenarios add constraint FKble3q3fc658g40ys8abbs5chf foreign key (campaign_id) references campaigns;
alter table if exists sessions add constraint FK3icelr1qks7kxjhdsfsp9cs03 foreign key (created_by) references users;
alter table if exists sessions add constraint FKeebbk0xswcu986rhu4q3r8b9e foreign key (updated_by) references users;
alter table if exists sessions add constraint FKmdn9x1299h73m5k8s5v86g4yc foreign key (campaign_id) references campaigns;
alter table if exists stories add constraint FK20pxwkgaj2oryq1ygak84655k foreign key (created_by) references users;
alter table if exists stories add constraint FK34wtlbj688o2qw9drip7e2tm2 foreign key (updated_by) references users;
alter table if exists stories add constraint FK495cxtmfu2eidu4mjmarj53f0 foreign key (campaign_id) references campaigns;
create table campaigns (created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, status_id bigint not null, universe_id bigint, updated_at timestamp(6) not null, updated_by bigint, user_id bigint not null, description TEXT, title varchar(255) not null, primary key (id));
create table character_classes (id bigint generated by default as identity, universe_id bigint not null, description TEXT, name varchar(255) not null, primary key (id));
create table files (id bigint generated by default as identity, player_id bigint not null, file_type varchar(255), file_url varchar(255), filename varchar(255), primary key (id));
create table invitation (created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, status_id bigint, updated_at timestamp(6) not null, updated_by bigint, name varchar(255), primary key (id));
create table item_location (item_id bigint not null, location_id bigint not null, primary key (item_id, location_id));
create table items (id bigint generated by default as identity, description TEXT, name varchar(255), primary key (id));
create table locations (id bigint generated by default as identity, description TEXT, name varchar(255) not null, primary key (id));
create table note_shared_with_players (note_id bigint not null, player_id bigint not null, primary key (note_id, player_id));
create table notes (author_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, content TEXT not null, title varchar(255) not null, primary key (id));
create table npcs (id bigint generated by default as identity, location_id bigint, description TEXT, name varchar(255), primary key (id));
create table player_shared_with_players (player_id bigint not null, shared_with_player_id bigint not null, primary key (player_id, shared_with_player_id));
create table players (campaign_id bigint not null, class_id bigint, created_at timestamp(6) not null, created_by bigint not null, death_date timestamp(6), id bigint generated by default as identity, race_id bigint, updated_at timestamp(6) not null, updated_by bigint, user_id bigint not null, name varchar(255), primary key (id));
create table races (id bigint generated by default as identity, universe_id bigint not null, description TEXT, name varchar(255) not null, primary key (id));
create table refresh_token (date_creation timestamp(6) with time zone not null, expiry timestamp(6) with time zone not null, id bigint generated by default as identity, user_id bigint not null, token varchar(255) not null unique, primary key (id));
create table scenario_npc (npc_id bigint not null, scenario_id bigint not null, primary key (npc_id, scenario_id));
create table scenarios (campaign_id bigint not null, id bigint generated by default as identity, description TEXT, title varchar(255) not null, primary key (id));
create table sessions (date date, campaign_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, summary TEXT, primary key (id));
create table status_invitation (id bigint not null, name varchar(255), primary key (id));
create table statuses (id bigint generated by default as identity, name varchar(255) not null unique, primary key (id));
create table stories (is_visible_to_players boolean not null, campaign_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, content TEXT not null, title varchar(255) not null, primary key (id));
create table universes (id bigint generated by default as identity, description TEXT, name varchar(255) not null, rules TEXT, primary key (id));
create table users (id bigint generated by default as identity, email varchar(255) not null unique, name varchar(255) not null, password varchar(255) not null, primary key (id));
alter table if exists campaigns add constraint FKyfby4s4hyhrlmj6j3c63xt6 foreign key (created_by) references users;
alter table if exists campaigns add constraint FKop8gyuxe2113fd7hq6833s89t foreign key (updated_by) references users;
alter table if exists campaigns add constraint FKtqocf4ga6babas0wk2snlpj76 foreign key (status_id) references statuses;
alter table if exists campaigns add constraint FKf6wkp0dfmnmo4ki7yw1nhf7cu foreign key (universe_id) references universes;
alter table if exists campaigns add constraint FK9palj5bmfdaatu6s2d03oh7qe foreign key (user_id) references users;
alter table if exists character_classes add constraint FKq52uxxdjskqtrbm5ap8nnvci4 foreign key (universe_id) references universes;
alter table if exists files add constraint FK38e6eh8vimsr79jwlhabe1v21 foreign key (player_id) references players;
alter table if exists invitation add constraint FKf7v4v901bpg142y5tlmjip1t1 foreign key (created_by) references users;
alter table if exists invitation add constraint FK3314xpa9m0asexx2ofhexuey2 foreign key (updated_by) references users;
alter table if exists invitation add constraint FK335ndf181clkb4y38t0t7qbk1 foreign key (status_id) references status_invitation;
alter table if exists item_location add constraint FK16d78y99a521og3remdx23x8j foreign key (location_id) references locations;
alter table if exists item_location add constraint FKcgmxjpmepwqh1sm8ax42ea5ek foreign key (item_id) references items;
alter table if exists note_shared_with_players add constraint FKaf1n5ic7x2xkh4noqk7wyhwc6 foreign key (player_id) references players;
alter table if exists note_shared_with_players add constraint FK818pa68v0srqn4j9pwmkuhdxu foreign key (note_id) references notes;
alter table if exists notes add constraint FK4tleqkyuahenxmis780jg1efr foreign key (created_by) references users;
alter table if exists notes add constraint FK50mo2qafk750dh2npi3mjpsh7 foreign key (updated_by) references users;
alter table if exists notes add constraint FK697hjv40kqr8dtawmyhgws82c foreign key (author_id) references players;
alter table if exists npcs add constraint FK1x6xewa2t22qubmudx5f7gpja foreign key (location_id) references locations;
alter table if exists player_shared_with_players add constraint FKpyg2okpxl9b734wuy338mmot5 foreign key (shared_with_player_id) references players;
alter table if exists player_shared_with_players add constraint FK7d4ptv7ufgl8c1jkx114pbn89 foreign key (player_id) references players;
alter table if exists players add constraint FK4yqesma7v3i68eq7mwmrs8e59 foreign key (created_by) references users;
alter table if exists players add constraint FK7rb8oyiuhw99vj7con9fqtsac foreign key (updated_by) references users;
alter table if exists players add constraint FKgb8wrbgx4sda2cerjqto9gkrl foreign key (campaign_id) references campaigns;
alter table if exists players add constraint FKhr9yfh6whcmolg9vclnn5vddl foreign key (class_id) references character_classes;
alter table if exists players add constraint FKqinih0fh3c42gsamvg1cgh8un foreign key (race_id) references races;
alter table if exists players add constraint FK3rfv9832bif6rea5edetib8it foreign key (user_id) references users;
alter table if exists races add constraint FKprj0sbd6102n4owi3dwn325d4 foreign key (universe_id) references universes;
alter table if exists refresh_token add constraint FKjtx87i0jvq2svedphegvdwcuy foreign key (user_id) references users;
alter table if exists scenario_npc add constraint FKt1trjohn5618x223b8ahaf1dj foreign key (scenario_id) references scenarios;
alter table if exists scenario_npc add constraint FKiifi3tjs6ffwacafyn7oenpau foreign key (npc_id) references npcs;
alter table if exists scenarios add constraint FKble3q3fc658g40ys8abbs5chf foreign key (campaign_id) references campaigns;
alter table if exists sessions add constraint FK3icelr1qks7kxjhdsfsp9cs03 foreign key (created_by) references users;
alter table if exists sessions add constraint FKeebbk0xswcu986rhu4q3r8b9e foreign key (updated_by) references users;
alter table if exists sessions add constraint FKmdn9x1299h73m5k8s5v86g4yc foreign key (campaign_id) references campaigns;
alter table if exists stories add constraint FK20pxwkgaj2oryq1ygak84655k foreign key (created_by) references users;
alter table if exists stories add constraint FK34wtlbj688o2qw9drip7e2tm2 foreign key (updated_by) references users;
alter table if exists stories add constraint FK495cxtmfu2eidu4mjmarj53f0 foreign key (campaign_id) references campaigns;
create table campaigns (created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, status_id bigint not null, universe_id bigint, updated_at timestamp(6) not null, updated_by bigint, user_id bigint not null, description TEXT, title varchar(255) not null, primary key (id));
create table character_classes (id bigint generated by default as identity, universe_id bigint not null, description TEXT, name varchar(255) not null, primary key (id));
create table files (id bigint generated by default as identity, player_id bigint not null, file_type varchar(255), file_url varchar(255), filename varchar(255), primary key (id));
create table invitation (created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, status_id bigint, updated_at timestamp(6) not null, updated_by bigint, name varchar(255), primary key (id));
create table item_location (item_id bigint not null, location_id bigint not null, primary key (item_id, location_id));
create table items (id bigint generated by default as identity, description TEXT, name varchar(255), primary key (id));
create table locations (id bigint generated by default as identity, description TEXT, name varchar(255) not null, primary key (id));
create table note_shared_with_players (note_id bigint not null, player_id bigint not null, primary key (note_id, player_id));
create table notes (author_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, content TEXT not null, title varchar(255) not null, primary key (id));
create table npcs (id bigint generated by default as identity, location_id bigint, description TEXT, name varchar(255), primary key (id));
create table player_shared_with_players (player_id bigint not null, shared_with_player_id bigint not null, primary key (player_id, shared_with_player_id));
create table players (campaign_id bigint not null, class_id bigint, created_at timestamp(6) not null, created_by bigint not null, death_date timestamp(6), id bigint generated by default as identity, race_id bigint, updated_at timestamp(6) not null, updated_by bigint, user_id bigint not null, name varchar(255), primary key (id));
create table races (id bigint generated by default as identity, universe_id bigint not null, description TEXT, name varchar(255) not null, primary key (id));
create table refresh_token (date_creation timestamp(6) with time zone not null, expiry timestamp(6) with time zone not null, id bigint generated by default as identity, user_id bigint not null, token varchar(255) not null unique, primary key (id));
create table scenario_npc (npc_id bigint not null, scenario_id bigint not null, primary key (npc_id, scenario_id));
create table scenarios (campaign_id bigint not null, id bigint generated by default as identity, description TEXT, title varchar(255) not null, primary key (id));
create table sessions (date date, campaign_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, summary TEXT, primary key (id));
create table status_invitation (id bigint not null, name varchar(255), primary key (id));
create table statuses (id bigint generated by default as identity, name varchar(255) not null unique, primary key (id));
create table stories (is_visible_to_players boolean not null, campaign_id bigint not null, created_at timestamp(6) not null, created_by bigint not null, id bigint generated by default as identity, updated_at timestamp(6) not null, updated_by bigint, content TEXT not null, title varchar(255) not null, primary key (id));
create table universes (id bigint generated by default as identity, description TEXT, name varchar(255) not null, rules TEXT, primary key (id));
create table users (id bigint generated by default as identity, email varchar(255) not null unique, name varchar(255) not null, password varchar(255) not null, primary key (id));
alter table if exists campaigns add constraint FKyfby4s4hyhrlmj6j3c63xt6 foreign key (created_by) references users;
alter table if exists campaigns add constraint FKop8gyuxe2113fd7hq6833s89t foreign key (updated_by) references users;
alter table if exists campaigns add constraint FKtqocf4ga6babas0wk2snlpj76 foreign key (status_id) references statuses;
alter table if exists campaigns add constraint FKf6wkp0dfmnmo4ki7yw1nhf7cu foreign key (universe_id) references universes;
alter table if exists campaigns add constraint FK9palj5bmfdaatu6s2d03oh7qe foreign key (user_id) references users;
alter table if exists character_classes add constraint FKq52uxxdjskqtrbm5ap8nnvci4 foreign key (universe_id) references universes;
alter table if exists files add constraint FK38e6eh8vimsr79jwlhabe1v21 foreign key (player_id) references players;
alter table if exists invitation add constraint FKf7v4v901bpg142y5tlmjip1t1 foreign key (created_by) references users;
alter table if exists invitation add constraint FK3314xpa9m0asexx2ofhexuey2 foreign key (updated_by) references users;
alter table if exists invitation add constraint FK335ndf181clkb4y38t0t7qbk1 foreign key (status_id) references status_invitation;
alter table if exists item_location add constraint FK16d78y99a521og3remdx23x8j foreign key (location_id) references locations;
alter table if exists item_location add constraint FKcgmxjpmepwqh1sm8ax42ea5ek foreign key (item_id) references items;
alter table if exists note_shared_with_players add constraint FKaf1n5ic7x2xkh4noqk7wyhwc6 foreign key (player_id) references players;
alter table if exists note_shared_with_players add constraint FK818pa68v0srqn4j9pwmkuhdxu foreign key (note_id) references notes;
alter table if exists notes add constraint FK4tleqkyuahenxmis780jg1efr foreign key (created_by) references users;
alter table if exists notes add constraint FK50mo2qafk750dh2npi3mjpsh7 foreign key (updated_by) references users;
alter table if exists notes add constraint FK697hjv40kqr8dtawmyhgws82c foreign key (author_id) references players;
alter table if exists npcs add constraint FK1x6xewa2t22qubmudx5f7gpja foreign key (location_id) references locations;
alter table if exists player_shared_with_players add constraint FKpyg2okpxl9b734wuy338mmot5 foreign key (shared_with_player_id) references players;
alter table if exists player_shared_with_players add constraint FK7d4ptv7ufgl8c1jkx114pbn89 foreign key (player_id) references players;
alter table if exists players add constraint FK4yqesma7v3i68eq7mwmrs8e59 foreign key (created_by) references users;
alter table if exists players add constraint FK7rb8oyiuhw99vj7con9fqtsac foreign key (updated_by) references users;
alter table if exists players add constraint FKgb8wrbgx4sda2cerjqto9gkrl foreign key (campaign_id) references campaigns;
alter table if exists players add constraint FKhr9yfh6whcmolg9vclnn5vddl foreign key (class_id) references character_classes;
alter table if exists players add constraint FKqinih0fh3c42gsamvg1cgh8un foreign key (race_id) references races;
alter table if exists players add constraint FK3rfv9832bif6rea5edetib8it foreign key (user_id) references users;
alter table if exists races add constraint FKprj0sbd6102n4owi3dwn325d4 foreign key (universe_id) references universes;
alter table if exists refresh_token add constraint FKjtx87i0jvq2svedphegvdwcuy foreign key (user_id) references users;
alter table if exists scenario_npc add constraint FKt1trjohn5618x223b8ahaf1dj foreign key (scenario_id) references scenarios;
alter table if exists scenario_npc add constraint FKiifi3tjs6ffwacafyn7oenpau foreign key (npc_id) references npcs;
alter table if exists scenarios add constraint FKble3q3fc658g40ys8abbs5chf foreign key (campaign_id) references campaigns;
alter table if exists sessions add constraint FK3icelr1qks7kxjhdsfsp9cs03 foreign key (created_by) references users;
alter table if exists sessions add constraint FKeebbk0xswcu986rhu4q3r8b9e foreign key (updated_by) references users;
alter table if exists sessions add constraint FKmdn9x1299h73m5k8s5v86g4yc foreign key (campaign_id) references campaigns;
alter table if exists stories add constraint FK20pxwkgaj2oryq1ygak84655k foreign key (created_by) references users;
alter table if exists stories add constraint FK34wtlbj688o2qw9drip7e2tm2 foreign key (updated_by) references users;
alter table if exists stories add constraint FK495cxtmfu2eidu4mjmarj53f0 foreign key (campaign_id) references campaigns;
